(function(){"use strict";var t={6790:function(t,e,n){var i=n(7195),o=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"red",attrs:{id:"app"}},[e("div",{staticClass:"box blue"},[e("SimpleStick",{staticClass:"green",attrs:{title:"left"},on:{input:t.onInput1}})],1),e("div",{staticClass:"box blue"}),e("div",{staticClass:"box blue"},[e("SimpleStick",{staticClass:"green",attrs:{title:"right"},on:{input:t.onInput2}})],1)])},r=[],u=function(){var t=this,e=t._self._c;return e("div",{staticClass:"simple-stick",style:t.styles,attrs:{id:t.title}})},s=[];let l={xPosition:0,yPosition:0,x:0,y:0,cardinalDirection:"C"};var a=function(t,e,n){var i=void 0===(e=e||{}).title?"joystick":e.title,o=void 0===e.width?0:e.width,r=void 0===e.height?0:e.height,u=void 0===e.internalFillColor?"#00AA00":e.internalFillColor,s=void 0===e.internalLineWidth?2:e.internalLineWidth,a=void 0===e.internalStrokeColor?"#003300":e.internalStrokeColor,c=void 0===e.externalLineWidth?2:e.externalLineWidth,d=void 0===e.externalStrokeColor?"#008000":e.externalStrokeColor,h=void 0===e.autoReturnToCenter||e.autoReturnToCenter;n=n||function(t){};var f=document.getElementById(t);f.style.touchAction="none";var p=document.createElement("canvas");p.id=i,0===o&&(o=f.clientWidth),0===r&&(r=f.clientHeight),p.width=o,p.height=r,f.appendChild(p);var v=p.getContext("2d"),g=0,C=2*Math.PI,x=(p.width-(p.width/2+10))/2,y=x+5,m=x+30,w=p.width/2,P=p.height/2,k=p.width/10,S=-1*k,b=p.height/10,I=-1*b,L=w,F=P;function W(){v.beginPath(),v.arc(w,P,m,0,C,!1),v.lineWidth=c,v.strokeStyle=d,v.stroke()}function T(){v.beginPath(),L<x&&(L=y),L+x>p.width&&(L=p.width-y),F<x&&(F=y),F+x>p.height&&(F=p.height-y),v.arc(L,F,x,0,C,!1);var t=v.createRadialGradient(w,P,5,w,P,200);t.addColorStop(0,u),t.addColorStop(1,a),v.fillStyle=t,v.fill(),v.lineWidth=s,v.strokeStyle=a,v.stroke()}function O(){let t="",e=L-w,n=F-P;return n>=I&&n<=b&&(t="C"),n<I&&(t="N"),n>b&&(t="S"),e<S&&("C"===t?t="W":t+="W"),e>k&&("C"===t?t="E":t+="E"),t}"ontouchstart"in document.documentElement?(p.addEventListener("touchstart",(function(t){g=1}),!1),document.addEventListener("touchmove",(function(t){1===g&&t.targetTouches[0].target===p&&(L=t.targetTouches[0].pageX,F=t.targetTouches[0].pageY,"BODY"===p.offsetParent.tagName.toUpperCase()?(L-=p.offsetLeft,F-=p.offsetTop):(L-=p.offsetParent.offsetLeft,F-=p.offsetParent.offsetTop),v.clearRect(0,0,p.width,p.height),W(),T(),l.xPosition=L,l.yPosition=F,l.x=((L-w)/y*100).toFixed(),l.y=((F-P)/y*100*-1).toFixed(),l.cardinalDirection=O(),n(l))}),!1),document.addEventListener("touchend",(function(t){g=0,h&&(L=w,F=P),v.clearRect(0,0,p.width,p.height),W(),T(),l.xPosition=L,l.yPosition=F,l.x=((L-w)/y*100).toFixed(),l.y=((F-P)/y*100*-1).toFixed(),l.cardinalDirection=O(),n(l)}),!1)):(p.addEventListener("mousedown",(function(t){g=1}),!1),document.addEventListener("mousemove",(function(t){1===g&&(L=t.pageX,F=t.pageY,"BODY"===p.offsetParent.tagName.toUpperCase()?(L-=p.offsetLeft,F-=p.offsetTop):(L-=p.offsetParent.offsetLeft,F-=p.offsetParent.offsetTop),v.clearRect(0,0,p.width,p.height),W(),T(),l.xPosition=L,l.yPosition=F,l.x=((L-w)/y*100).toFixed(),l.y=((F-P)/y*100*-1).toFixed(),l.cardinalDirection=O(),n(l))}),!1),document.addEventListener("mouseup",(function(t){g=0,h&&(L=w,F=P),v.clearRect(0,0,p.width,p.height),W(),T(),l.xPosition=L,l.yPosition=F,l.x=((L-w)/y*100).toFixed(),l.y=((F-P)/y*100*-1).toFixed(),l.cardinalDirection=O(),n(l)}),!1)),W(),T(),this.GetWidth=function(){return p.width},this.GetHeight=function(){return p.height},this.GetPosX=function(){return L},this.GetPosY=function(){return F},this.GetX=function(){return((L-w)/y*100).toFixed()},this.GetY=function(){return((F-P)/y*100*-1).toFixed()},this.GetDir=function(){return O()}},c=a,d={name:"SimpleStick",props:{title:{type:String,default:"joystick"},width:{type:Number,default:200},height:{type:Number,default:200},internalFillColor:{type:String,default:void 0},internalLineWidth:{type:Number,default:void 0},internalStrokeColor:{type:String,default:void 0},externalLineWidth:{type:Number,default:void 0},externalStrokeColor:{type:String,default:void 0},autoReturnToCenter:{type:Boolean,default:void 0}},data(){return{joy:void 0,direction:"C",continuousIntervalId:null,continuousCount:0}},computed:{styles(){return{"--stick-width":`${this.width}px`,"--stick-height":`${this.height}px`}},joyParams(){return{title:this.title,width:this.width,height:this.height,internalFillColor:this.internalFillColor,internalLineWidth:this.internalLineWidth,internalStrokeColor:this.internalStrokeColor,externalLineWidth:this.externalLineWidth,externalStrokeColor:this.externalStrokeColor,autoReturnToCenter:this.autoReturnToCenter}}},mounted(){this.joy=new c(this.title,this.joyParams,(t=>{const{cardinalDirection:e}=t;this.direction!==e&&(this.direction=e,"C"===this.direction?this.clearContinuousJoy():this.continuousJoy())}))},methods:{continuousJoy(){this.clearContinuousJoy(),this.continuousIntervalId=setInterval((()=>{++this.continuousCount,this.$emit("input",{direction:this.direction,count:this.continuousCount})}),100),this.$emit("input",{direction:this.direction,count:this.continuousCount})},clearContinuousJoy(){this.continuousCount=0,null!=this.continuousIntervalId&&(clearInterval(this.continuousIntervalId),this.continuousIntervalId=null)}}},h=d,f=n(1001),p=(0,f.Z)(h,u,s,!1,null,"5ad34b76",null),v=p.exports,g=i.ZP.extend({name:"App",components:{SimpleStick:v},methods:{onInput1(t){console.log("onInput1:",t)},onInput2(t){console.log("onInput2:",t)}}}),C=g,x=(0,f.Z)(C,o,r,!1,null,null,null),y=x.exports;i.ZP.config.productionTip=!1,new i.ZP({render:t=>t(y)}).$mount("#app")}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var r=e[i]={exports:{}};return t[i].call(r.exports,r,r.exports,n),r.exports}n.m=t,function(){var t=[];n.O=function(e,i,o,r){if(!i){var u=1/0;for(c=0;c<t.length;c++){i=t[c][0],o=t[c][1],r=t[c][2];for(var s=!0,l=0;l<i.length;l++)(!1&r||u>=r)&&Object.keys(n.O).every((function(t){return n.O[t](i[l])}))?i.splice(l--,1):(s=!1,r<u&&(u=r));if(s){t.splice(c--,1);var a=o();void 0!==a&&(e=a)}}return e}r=r||0;for(var c=t.length;c>0&&t[c-1][2]>r;c--)t[c]=t[c-1];t[c]=[i,o,r]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,i){var o,r,u=i[0],s=i[1],l=i[2],a=0;if(u.some((function(e){return 0!==t[e]}))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(l)var c=l(n)}for(e&&e(i);a<u.length;a++)r=u[a],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(c)},i=self["webpackChunkexamples"]=self["webpackChunkexamples"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(6790)}));i=n.O(i)})();
//# sourceMappingURL=app.55007163.js.map